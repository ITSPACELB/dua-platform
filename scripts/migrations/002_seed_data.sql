-- ============================================================================
-- ๐ฑ ุจูุงูุงุช ุชุฌุฑูุจูุฉ ูููุตุฉ ููุฌูุจ
-- ============================================================================
-- ููุงุญุธุฉ: ูุฐู ุงูุจูุงูุงุช ููุชุทููุฑ ููุท - ูุง ุชูุณุชุฎุฏู ูู ุงูุฅูุชุงุฌ
-- ============================================================================

-- ๐ฅ ุฅูุดุงุก ูุณุชุฎุฏููู ุชุฌุฑูุจููู
INSERT INTO users (full_name, mother_name, city, show_full_name, unique_question, question_answer_hash)
VALUES 
    -- ูุณุชุฎุฏู 1: ุจุฏูู ุณุคุงู ุณุฑู (ุฃูู ุดุฎุต ุจูุฐุง ุงูุงุณู)
    ('ุฃุญูุฏ ูุญูุฏ ุงูุนูู', 'ูุงุทูุฉ', 'ุงููุงูุฑุฉ', true, NULL, NULL),
    
    -- ูุณุชุฎุฏู 2: ุจุฏูู ุณุคุงู ุณุฑู
    ('ูุญูุฏ ุนูู ุญุณู', 'ุฎุฏูุฌุฉ', 'ุงูุฑูุงุถ', true, NULL, NULL),
    
    -- ูุณุชุฎุฏู 3: ูุน ุณุคุงู ุณุฑู (ูุฃู ููุงู ุดุฎุต ุขุฎุฑ ุจููุณ ุงูุงุณู)
    ('ุนูู ุญุณู ูุญูุฏ', 'ูุฑูู', 'ุจุบุฏุงุฏ', false, 'ูุง ุงุณู ูุงูุฏูุ', '$2b$10$examplehash123'),
    
    -- ูุณุชุฎุฏู 4: ูุน ุฑูู ูุงุชู (ููุงุฎุชุจุงุฑ)
    ('ุณุงุฑุฉ ุฃุญูุฏ', 'ููุฑ', 'ุฏูุดู', true, NULL, NULL),
    
    -- ูุณุชุฎุฏู 5: ูุณุชุฎุฏู ุนุงุฏู
    ('ุฎุงูุฏ ููุณู', 'ูููู', 'ุนููุงู', true, NULL, NULL)
ON CONFLICT DO NOTHING; -- ุฅุฐุง ูุงู ููุฌูุฏุ ุชุฌุงูู

-- ๐ ุฅูุดุงุก ุฅุญุตุงุฆูุงุช ูููุณุชุฎุฏููู ุงูุชุฌุฑูุจููู
INSERT INTO user_stats (user_id, total_prayers_given, total_notifications_received, interaction_rate)
SELECT 
    id, 
    0, -- ูู ูุฏุนู ุฃุญุฏ ุจุนุฏ
    0, -- ูู ูุณุชูู ุฅุดุนุงุฑุงุช ุจุนุฏ
    0  -- ูุนุฏู ุงูุชูุงุนู ุตูุฑ
FROM users
WHERE id IN (
    SELECT id FROM users WHERE full_name IN (
        'ุฃุญูุฏ ูุญูุฏ ุงูุนูู', 
        'ูุญูุฏ ุนูู ุญุณู', 
        'ุนูู ุญุณู ูุญูุฏ',
        'ุณุงุฑุฉ ุฃุญูุฏ',
        'ุฎุงูุฏ ููุณู'
    )
)
ON CONFLICT (user_id) DO NOTHING;

-- ๐คฒ ุฅูุดุงุก ุทูุจุงุช ุฏุนุงุก ุชุฌุฑูุจูุฉ
INSERT INTO prayer_requests (
    requester_id, 
    prayer_type, 
    status, 
    created_at,
    expires_at,
    total_prayers_received
)
SELECT 
    u.id,
    'general',
    'active',
    NOW() - INTERVAL '1 hour', -- ูุจู ุณุงุนุฉ
    NOW() + INTERVAL '23 hours', -- ููุชูู ุจุนุฏ 23 ุณุงุนุฉ
    3 -- 3 ุฃุดุฎุงุต ุฏุนูุง ูู
FROM users u
WHERE u.full_name = 'ุฃุญูุฏ ูุญูุฏ ุงูุนูู'
LIMIT 1
ON CONFLICT DO NOTHING;

-- ๐๏ธ ุทูุจ ุฏุนุงุก ููุชููู
INSERT INTO prayer_requests (
    requester_id, 
    prayer_type, 
    deceased_name,
    deceased_mother_name,
    relation,
    status, 
    created_at,
    total_prayers_received
)
SELECT 
    u.id,
    'deceased',
    'ุนุจุฏุงููู ูุญูุฏ',
    'ุฒููุจ',
    'ุฃุจ',
    'active',
    NOW() - INTERVAL '30 minutes',
    5
FROM users u
WHERE u.full_name = 'ูุญูุฏ ุนูู ุญุณู'
LIMIT 1
ON CONFLICT DO NOTHING;

-- ๐ ุฅุถุงูุฉ ูุณุชุฎุฏู ุฅุฏุงุฑู (ููุงุฎุชุจุงุฑ)
-- ููุงุญุธุฉ: ูู ุงูุฅูุชุงุฌุ ุงุณุชุฎุฏู ุจุฑูุฏ ุฅููุชุฑููู ุญูููู
INSERT INTO admin_users (user_id, role)
SELECT id, 'super_admin'
FROM users
WHERE full_name = 'ุฃุญูุฏ ูุญูุฏ ุงูุนูู'
LIMIT 1
ON CONFLICT DO NOTHING;

-- ============================================================================
-- โ ุงูุชูู ุฅุฏุฎุงู ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ
-- ============================================================================